diff -up xdm-1.1.6/config/Makefile.am.authDir-var-bug388431 xdm-1.1.6/config/Makefile.am
--- xdm-1.1.6/config/Makefile.am.authDir-var-bug388431	2007-01-02 22:45:08.000000000 +0100
+++ xdm-1.1.6/config/Makefile.am	2009-01-26 14:04:09.000000000 +0100
@@ -52,6 +52,7 @@ MKTEMP_DEFINES = -DMKTEMP_COMMAND=$(MKTE
 
 CPP_FILES_FLAGS = -DBINDIR="$(bindir)" -DDEFAULTVT="$(DEFAULTVT)" \
     -DXDMDIR="$(XDMLIBDIR)" -DXDMLOGDIR="$(XDMLOGDIR)" \
+    -DXDMXAUTHDIR="$(XDMXAUTHDIR)" \
     -DXDMPIDDIR="$(XDMPIDDIR)" -DXDMCONFIGDIR="$(XDMCONFIGDIR)" \
     -DXDMSCRIPTDIR="$(XDMSCRIPTDIR)" -DSU="$(SU)" \
     -DCHOOSERPATH="$(XDMLIBDIR)/chooser" $(XPMDEFINES) \
diff -up xdm-1.1.6/config/Makefile.in.authDir-var-bug388431 xdm-1.1.6/config/Makefile.in
--- xdm-1.1.6/config/Makefile.in.authDir-var-bug388431	2007-08-16 23:47:52.000000000 +0200
+++ xdm-1.1.6/config/Makefile.in	2009-01-26 14:03:03.000000000 +0100
@@ -1,8 +1,8 @@
-# Makefile.in generated by automake 1.10 from Makefile.am.
+# Makefile.in generated by automake 1.10.1 from Makefile.am.
 # @configure_input@
 
 # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
-# 2003, 2004, 2005, 2006  Free Software Foundation, Inc.
+# 2003, 2004, 2005, 2006, 2007, 2008  Free Software Foundation, Inc.
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
@@ -117,6 +117,7 @@ DMCP_CFLAGS = @DMCP_CFLAGS@
 DMCP_LIBS = @DMCP_LIBS@
 DRIVER_MAN_DIR = @DRIVER_MAN_DIR@
 DRIVER_MAN_SUFFIX = @DRIVER_MAN_SUFFIX@
+DSYMUTIL = @DSYMUTIL@
 ECHO = @ECHO@
 ECHO_C = @ECHO_C@
 ECHO_N = @ECHO_N@
@@ -149,6 +150,7 @@ MISC_MAN_DIR = @MISC_MAN_DIR@
 MISC_MAN_SUFFIX = @MISC_MAN_SUFFIX@
 MKDIR_P = @MKDIR_P@
 MKTEMP_COMMAND = @MKTEMP_COMMAND@
+NMEDIT = @NMEDIT@
 OBJDUMP = @OBJDUMP@
 OBJEXT = @OBJEXT@
 PACKAGE = @PACKAGE@
@@ -163,6 +165,7 @@ RANDOMMANDEFS = @RANDOMMANDEFS@
 RANLIB = @RANLIB@
 RAWCPP = @RAWCPP@
 RAWCPPFLAGS = @RAWCPPFLAGS@
+SED = sed
 SERVERSTYPE = @SERVERSTYPE@
 SET_MAKE = @SET_MAKE@
 SHELL = @SHELL@
@@ -181,6 +184,7 @@ XDMPIDDIR = @XDMPIDDIR@
 XDMSCRIPTDIR = @XDMSCRIPTDIR@
 XDMSHELL_CFLAGS = @XDMSHELL_CFLAGS@
 XDMSHELL_LIBS = @XDMSHELL_LIBS@
+XDMXAUTHDIR = @XDMXAUTHDIR@
 XDM_BWPIXMAP = @XDM_BWPIXMAP@
 XDM_CFLAGS = @XDM_CFLAGS@
 XDM_LDFLAGS = @XDM_LDFLAGS@
@@ -248,9 +252,9 @@ sharedstatedir = @sharedstatedir@
 srcdir = @srcdir@
 sysconfdir = @sysconfdir@
 target_alias = @target_alias@
+top_build_prefix = @top_build_prefix@
 top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
-SED = sed
 SUFFIXES = .cpp
 WCHAR32_FLAGS = -DWCHAR32=@WCHAR32@
 
diff -up xdm-1.1.6/configure.ac.authDir-var-bug388431 xdm-1.1.6/configure.ac
--- xdm-1.1.6/configure.ac.authDir-var-bug388431	2007-08-16 23:46:47.000000000 +0200
+++ xdm-1.1.6/configure.ac	2009-01-26 14:03:03.000000000 +0100
@@ -510,7 +510,13 @@ AC_DEFINE_DIR(DEF_CHOOSER, XDMLIBDIR/cho
 
 # -DDEF_AUTH_DIR="$(XDMDIR)"
 
-AC_DEFINE_DIR(DEF_AUTH_DIR, XDMCONFIGDIR, 
+AC_ARG_WITH(authdir,
+	AC_HELP_STRING([--with-authdir=<pathname>],
+	  [specify directory for X auth files (default=/var/lib/xdm)]),
+	[XDMXAUTHDIR="$withval"], [XDMXAUTHDIR="/var/lib/xdm"])
+AC_SUBST(XDMXAUTHDIR)
+
+AC_DEFINE_DIR(DEF_AUTH_DIR, XDMXAUTHDIR, 
 	[Define to pathname where authentication cookie files should be stored])
 
 # -DDEF_GREETER_LIB="$(XDMDIR)/libXdmGreet.so"
diff -up xdm-1.1.6/config/xdm-config.cpp.authDir-var-bug388431 xdm-1.1.6/config/xdm-config.cpp
--- xdm-1.1.6/config/xdm-config.cpp.authDir-var-bug388431	2009-01-26 14:03:03.000000000 +0100
+++ xdm-1.1.6/config/xdm-config.cpp	2009-01-26 14:03:03.000000000 +0100
@@ -12,6 +12,7 @@
 #ifndef XDMSCRIPTDIR
 #define XDMSCRIPTDIR XDMDIR
 #endif
+DisplayManager.authDir:	XDMXAUTHDIR
 DisplayManager.errorLogFile:	XDMLOGDIR/xdm.log
 DisplayManager.pidFile:		XDMPIDDIR/xdm.pid
 DisplayManager.keyFile:		XDMCONFIGDIR/xdm-keys
